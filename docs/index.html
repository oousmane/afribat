<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>African bat database in R • afribat</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="African bat database in R">
<meta property="og:description" content="A curated data of occurrences, distributions and conservation metrics for sub-Saharan bats">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">afribat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/oousmane/afribat/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="afribat-african-bat-database-in-r-">afribat: African Bat Database in R <a href="https://dplyr.tidyverse.org" class="external-link"><img src="reference/figures/logo.png" align="right" width="20%"></a>
<a class="anchor" aria-label="anchor" href="#afribat-african-bat-database-in-r-"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The {afribat} R package provides access to the African Bat Database in the form of <code>tibble</code> (tabular) or <code>sf</code> (spatial) objects. This package is designed to enhance reproducibility in ecological and evolutionary research by seamlessly integrating AfriBat data into the R programming ecosystem. It serves as a valuable tool for researchers focusing on bat ecology, biodiversity, and conservation.</p>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>The African bat database is the first accessible dataset of occurrence records, distribution models and conservation metrics for all bat species in sub-Saharan Africa where all the records have been carefully examined and corrected for current taxonomy. This database has been a long time in the making and will be crucial in resolving the distributions of poorly recorded bat taxa in sub-Saharan Africa.</p>
<p>The database contains 17,285 unique locality records of all of the 266 species of bats currently recognized from sub-Saharan Africa (Fig. 2). The number of species recognized in this region has increased by 60% in the last 100 years, and 17% since 2000. In recent years, the increase in species numbers was primarily due to new species being discovered (both de novo descriptions and epithet splits) in the families Vespertilionidae, Rhinolophidae, Pteropodidae and Miniopteridae.</p>
<p>The database is intended to be a dynamic, living dataset that will be updated regularly, at least once a year, or as new data becomes available, and errors are identified and corrected. Future updates will welcome new or previously unavailable data, will incorporate taxonomic classification changes, and will include the distribution of newly resolved and described species. Updates of the dataset will be made directly on Github (<a href="https://github.com/kanead/Bat_database" class="external-link uri">https://github.com/kanead/Bat_database</a>)</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of afribat from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"oousmane/afribat"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note</strong>: Two important dependencies of {afribat}, the {sf} package for spatial data science and the {readr} package for tabular data read in and write out , require some low-level software libraries to be installed on your system. Depending on which operating system you use, this can mean that you have to install these system requirements first, before you can install {afribat}. See the installation guides of sf and readr or details. To use effectively the data package, consider to install the entire tidyverse ecosystem.</p>
<p>If you want to install {sf} and readr or tydiverse</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install sf and readr only</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"sf"</span>,</span>
<span>      <span class="st">"readr"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co"># install sf and tidyverse, readr is actually included in tidyverse (a bit long )</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"sf"</span>,</span>
<span>      <span class="st">"tidyverse"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="retrieving-data-using-administrative-units">Retrieving data using administrative units<a class="anchor" aria-label="anchor" href="#retrieving-data-using-administrative-units"></a>
</h2>
<p>This package serves as a comprehensive data resource, bundling the entire database and making it readily available as tibble or sf objects for advanced analysis. Designed to integrate seamlessly into workflows within the R programming environment, it provides a streamlined approach to data handling and spatial analysis.</p>
<p>The example below demonstrates how to load the spatial version of the database and extract information for a specific administrative level—such as <code>admin1</code> ie ‘Burkina Faso’, highlighting the package’s flexibility and ease of use. This is for learning purpose. Some considerations are neglicted.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/oousmane/afribat" class="external-link">afribat</a></span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Load data</span></span>
<span><span class="va">afribats_sf</span> <span class="op">&lt;-</span> <span class="fu">afribat</span><span class="fu">::</span><span class="va"><a href="reference/afribats_sf.html">afribats_sf</a></span></span>
<span></span>
<span><span class="co"># Load Burkina Faso boundary</span></span>
<span><span class="va">bf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="st">"https://github.com/oousmane/hexburdb/raw/main/map/admin0.gpkg"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Spatial filtering and year filtering</span></span>
<span><span class="va">bats80</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_join.html" class="external-link">st_filter</a></span><span class="op">(</span><span class="va">afribats_sf</span>, <span class="va">bf</span>, .predicate <span class="op">=</span> <span class="va">st_within</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">1980</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Extract species names</span></span>
<span><span class="va">species</span> <span class="op">&lt;-</span> <span class="va">bats80</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"species"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check species</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"No species data found for the filtered dataset"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Example usage of margalef index</span></span>
<span><span class="fu"><a href="reference/margalef.html">margalef</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.595365</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="biodiversity-indices">Biodiversity indices<a class="anchor" aria-label="anchor" href="#biodiversity-indices"></a>
</h2>
<p>{afribat} provides a set of functions to compute common ecological diversity indices. Each index includes its formula, conceptual explanation, and an example. References are provided for further reading.</p>
<div class="section level3">
<h3 id="margalef-diversity-index">Margalef diversity index<a class="anchor" aria-label="anchor" href="#margalef-diversity-index"></a>
</h3>
<p>The Margalef index measures species richness adjusted for sample size. It emphasizes the number of species (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>) relative to the total number of individuals (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>). The formula is given by :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mi>M</mi></msub><mo>=</mo><mfrac><mrow><mi>S</mi><mo>−</mo><mn>1</mn></mrow><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>N</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></mrow><annotation encoding="application/x-tex">
D_M = \frac{S - 1}{\log(N)}
</annotation></semantics></math> where :</p>
<ul>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>: Number of unique species<br>
</li>
<li>
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>: Total number of individuals in the sample</li>
</ul>
<p>The Margalef index provides a measure of species richness while accounting for the size of the sample. Larger samples are expected to have more species.</p>
<p>For further reading see : Margalef, R. (1958). Information theory in ecology. General Systems, 3, 36–71.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/oousmane/afribat" class="external-link">afribat</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/margalef.html">margalef</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.595365</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="shannon-weiner-index">Shannon-Weiner Index<a class="anchor" aria-label="anchor" href="#shannon-weiner-index"></a>
</h3>
<p>The Shannon-Weiner index measures the diversity of a community by considering both the richness and evenness of species. It is derived from information theory and quantifies the uncertainty (entropy) in predicting the species of an individual randomly selected from the sample. The formula is given by</p>
</div>
<div class="section level3">
<h3 id="formula">Formula<a class="anchor" aria-label="anchor" href="#formula"></a>
</h3>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo><mi>−</mi><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>S</mi></munderover><msub><mi>p</mi><mi>i</mi></msub><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
H = -\sum_{i=1}^{S} p_i \log(p_i)
</annotation></semantics></math></p>
<p>Where:</p>
<ul>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>H</mi><annotation encoding="application/x-tex">H</annotation></semantics></math>: Shannon-Weiner index (diversity)</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>p</mi><mi>i</mi></msub><annotation encoding="application/x-tex">p_i</annotation></semantics></math>: Proportion of individuals belonging to species <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math> (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mfrac><msub><mi>n</mi><mi>i</mi></msub><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">p_i = \frac{n_i}{N}</annotation></semantics></math>)</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mi>i</mi></msub><annotation encoding="application/x-tex">n_i</annotation></semantics></math>: Number of individuals in species <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math></p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>: Total number of individuals in the community</p></li>
<li><p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>: Total number of unique species</p></li>
</ul>
<p>The Shannon-Weiner index provides a measure of biodiversity. A higher <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mi>′</mi></mrow><annotation encoding="application/x-tex">H'</annotation></semantics></math> value indicates a more diverse and evenly distributed community.</p>
<p><strong>Example Calculation</strong></p>
<p>Given the following dataset:</p>
<table class="table">
<thead><tr class="header">
<th>Species</th>
<th>Count</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Oak</td>
<td>3</td>
</tr>
<tr class="even">
<td>Pine</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Maple</td>
<td>1</td>
</tr>
</tbody>
</table>
<ul>
<li>Total individuals (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>) = 3 + 2 + 1 = 6</li>
<li>Proportions (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>p</mi><mi>i</mi></msub><annotation encoding="application/x-tex">p_i</annotation></semantics></math>):
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Oak</mtext></msub><mo>=</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">p_{\text{Oak}} = \frac{3}{6} = 0.5</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Pine</mtext></msub><mo>=</mo><mfrac><mn>2</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.333</mn></mrow><annotation encoding="application/x-tex">p_{\text{Pine}} = \frac{2}{6} = 0.333</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Maple</mtext></msub><mo>=</mo><mfrac><mn>1</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.167</mn></mrow><annotation encoding="application/x-tex">p_{\text{Maple}} = \frac{1}{6} = 0.167</annotation></semantics></math></li>
</ul>
</li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo><mi>−</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.333</mn><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.333</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><mn>0.167</mn><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.167</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
H = -(0.5 \log(0.5) + 0.333 \log(0.333) + 0.167 \log(0.167))
</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>=</mo><mn>1.011</mn></mrow><annotation encoding="application/x-tex">
H = 1.011
</annotation></semantics></math></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/shannon_weiner.html">shannon_weiner</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2.864875</span></span></code></pre></div>
<p><strong>Interpretation</strong></p>
<ul>
<li><p><strong>High</strong> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>H</mi><annotation encoding="application/x-tex">H</annotation></semantics></math>: Indicates a diverse community with even distribution of species.</p></li>
<li><p><strong>Low</strong> <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>H</mi><annotation encoding="application/x-tex">H</annotation></semantics></math> : Suggests dominance by a few species or low species richness.</p></li>
</ul>
<p>For further reading, see : Shannon, C. E., &amp; Weaver, W. (1949).  <em>The Mathematical Theory of Communication</em>. Urbana, IL: University of Illinois Press.</p>
</div>
<div class="section level3">
<h3 id="simpsons-dominance-index">Simpson’s Dominance Index<a class="anchor" aria-label="anchor" href="#simpsons-dominance-index"></a>
</h3>
<p>The Inverse Simpson’s Index is another diversity measure related to Simpson’s Dominance Index. Instead of quantifying the probability that two randomly selected individuals belong to the same species, it focuses on the effective number of equally abundant species. The formula for Simpson’s index computation is given by :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><mfrac><mn>1</mn><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>S</mi></munderover><msubsup><mi>p</mi><mi>i</mi><mn>2</mn></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">
D = \frac{1}{\sum_{i=1}^{S} p_i^2}
</annotation></semantics></math></p>
<p>Where: - <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>D</mi><annotation encoding="application/x-tex">D</annotation></semantics></math>: Simpson’s Dominance Index (inverse) - <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>p</mi><mi>i</mi></msub><annotation encoding="application/x-tex">p_i</annotation></semantics></math>: Proportion of individuals belonging to species <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>=</mo><mfrac><msub><mi>n</mi><mi>i</mi></msub><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">p_i = \frac{n_i}{N}</annotation></semantics></math> - <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>n</mi><mi>i</mi></msub><annotation encoding="application/x-tex">n_i</annotation></semantics></math>: Number of individuals in species <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math> - <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>: Total number of individuals in the community - <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>S</mi><annotation encoding="application/x-tex">S</annotation></semantics></math>: Total number of unique</p>
<p>The Inverse Simpson’s Index can be interpreted as the number of equally abundant species necessary to produce the given community diversity. A higher value indicates greater diversity, as it suggests you would need more equally abundant species to achieve the observed distribution.</p>
<p><strong>Example Calculation</strong></p>
<p>Given the following dataset:</p>
<table class="table">
<thead><tr class="header">
<th>Species</th>
<th>Count</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Oak</td>
<td>3</td>
</tr>
<tr class="even">
<td>Pine</td>
<td>2</td>
</tr>
<tr class="odd">
<td>Maple</td>
<td>1</td>
</tr>
</tbody>
</table>
<ul>
<li>Total individuals (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math>)) = <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">3 + 2 + 1 = 6</annotation></semantics></math>
</li>
<li>Proportions (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>p</mi><mi>i</mi></msub><annotation encoding="application/x-tex">p_i</annotation></semantics></math>):
<ul>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Oak</mtext></msub><mo>=</mo><mfrac><mn>3</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">p_{\text{Oak}} = \frac{3}{6} = 0.5</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Pine</mtext></msub><mo>=</mo><mfrac><mn>2</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.333</mn></mrow><annotation encoding="application/x-tex">p_{\text{Pine}} = \frac{2}{6} = 0.333</annotation></semantics></math></li>
<li><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mtext mathvariant="normal">Maple</mtext></msub><mo>=</mo><mfrac><mn>1</mn><mn>6</mn></mfrac><mo>=</mo><mn>0.167</mn></mrow><annotation encoding="application/x-tex">p_{\text{Maple}} = \frac{1}{6} = 0.167</annotation></semantics></math></li>
</ul>
</li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∑</mo><msubsup><mi>p</mi><mi>i</mi><mn>2</mn></msubsup><mo>=</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.5</mn><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.333</mn><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>0.167</mn><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>0.25</mn><mo>+</mo><mn>0.111</mn><mo>+</mo><mn>0.028</mn><mo>=</mo><mn>0.389</mn></mrow><annotation encoding="application/x-tex">
\sum p_i^2 = (0.5)^2 + (0.333)^2 + (0.167)^2 = 0.25 + 0.111 + 0.028 = 0.389
</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Inverse Simpson’s Index</mtext><mo>=</mo><mfrac><mn>1</mn><mn>0.389</mn></mfrac><mo>≈</mo><mn>2.57</mn></mrow><annotation encoding="application/x-tex">
\text{Inverse Simpson's Index} = \frac{1}{0.389} \approx 2.57
</annotation></semantics></math></p>
<p>This suggests that the community diversity is roughly equivalent to having 2.57 equally abundant species.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/simpson.html">simpson</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 13.33846</span></span></code></pre></div>
<p>For further reading, see : Simpson, E. H. (1949). Measurement of diversity. Nature, 163(4148), 688.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/oousmane/afribat/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/oousmane/afribat/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing afribat</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ousmane Ouedraogo <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6349-4146" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Ousmane Ouedraogo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
